(self.webpackChunkbanana_cake_pop=self.webpackChunkbanana_cake_pop||[]).push([[88],{63564:(n,e,t)=>{"use strict";t.d(e,{M$:()=>d,c5:()=>a,im:()=>p,q8:()=>c});var r,s,i=t(56604);const o=i.uU,a=i.WU,c=null!==(r="Q2xpZW50Cmc5MTE3YmNmZWM4Zjk0YWExYmZkOWIxZWUzOTY0YmQwOQ==")?r:"",u=(i.WU,new RegExp("^https?:\\/\\/.*?\\.(bananacakepop\\.com|chillicream\\.cloud)","i")),l=null!==(s=null===u||void 0===u?void 0:u.test(self.origin))&&void 0!==s&&s,d=navigator.userAgent.indexOf("Electron")>=0,f=l?"cloud":d?"app":"middleware",p="".concat(o,"/").concat(a," (").concat(f,")");(function(){if(navigator.userAgent.indexOf("Win")>=0)return"Windows";if(navigator.userAgent.indexOf("Mac")>=0)return"macOS";if(navigator.userAgent.indexOf("X11")>=0||navigator.userAgent.indexOf("Linux")>=0)return"Linux"})(),function(){const n=navigator.userAgent.toLowerCase();n.includes("mac os")||n.includes("ipad")}()},47268:(n,e,t)=>{"use strict";t.d(e,{_I:()=>r,e0:()=>i,yu:()=>s});const r="Authorization",s="Content-Type",i="User-Agent"},38344:(n,e,t)=>{"use strict";t.d(e,{Co:()=>l,M7:()=>o,kT:()=>c,wR:()=>a});t(98352),t(2856),t(60864);var r=t(91848),s=t(79596);t(33880),t(80520);const i="banana-cake-pop";function o(n,e){return c((t=>t.get(n,e)))}function a(n,e){return c((async t=>{await t.put(n,e)}))}async function c(n){const e=await(0,s.CA)(i);try{return await n(e)}finally{e.close()}}async function u(n,e,t,s,i){const o=await async function(n,e,t){const s=n.transaction(e,t),i={},o={};for(const r of e){const n=s.objectStore(r),e=f(r);i[e]=n,o[e]={};for(const t of n.indexNames)o[e][t]=n.index(t)}return{abort:n=>function(n,e){throw n.abort(),new Error(e)}(s,n),done:s.done.catch((n=>{if(!(0,r.mA)(n))throw n})),store:i,index:o}}(n,e,t);try{return i?await(0,r.wh)((()=>o.abort("transaction aborted")),(()=>s(o,n.version)),i):await s(o,n.version)}finally{await o.done}}function l(n,e,t,r){return c((s=>u(s,n,e,t,r)))}const d=new Map;function f(n){let e=d.get(n);return e||(e=n.split("-").reduce(((n,e)=>(e&&(""!==n?(n+=e[0].toUpperCase(),n+=e.substring(1)):n=e),n)),""),d.set(n,e)),e}},92472:(n,e,t)=>{"use strict";t(60864),t(38344),t(91848),t(13244),t(90116),t(16820),t(87343)},86252:(n,e,t)=>{"use strict";t(98352),t(2856),t(60864),t(38344),t(91848),t(13244),t(16820),t(87343)},13244:(n,e,t)=>{"use strict";t(60864),t(97860),t(91848),t(90116),t(16820),t(87343)},54624:(n,e,t)=>{"use strict";t.d(e,{W5:()=>s,y8:()=>i});var r=t(38344);async function s(n){let{sub:e,tenant:t,issuer:s}=n;return(0,r.Co)(["session"],"readonly",(n=>n.index.session.key.get([e,t,s])))}async function i(n){return await(0,r.wR)("session",n),n}},39740:(n,e,t)=>{"use strict";t(60864);var r=t(51316),s=(t(91848),t(65788));s.q4,s.oD,s.OT,s.uy},97860:(n,e,t)=>{"use strict";t(2856),t(60864);var r=t(58680);t(27644),t(38344),t(91848),t(39740),t(46144),t(87343);const s=[0,r.S8,r.OU,r.OU,r.WO,r.g$,r.sv,r.or,r.yQ,r.K4];s.length},63464:(n,e,t)=>{"use strict";t(60864),t(38344)},5092:(n,e,t)=>{"use strict";t.d(e,{g5:()=>o.g5,Yv:()=>s,IZ:()=>i.I});t(62684),t(86216);var r=t(70292);function s(n,e,t){return new Promise(((s,a)=>{const{dispose:c}=(0,r.commitMutation)(i.I,{mutation:n,variables:e,onError:n=>{n instanceof o.g5?s(null):a(n)},onCompleted:s});null===t||void 0===t||t.addEventListener("abort",(function n(){c(),null===t||void 0===t||t.removeEventListener("abort",n)}))}))}var i=t(58476),o=t(78196)},78196:(n,e,t)=>{"use strict";t.d(e,{eK:()=>a,g5:()=>c});t(98352),t(60864),t(26144),t(60328),t(32880),t(3184);var r=t(58680),s=t(27644),i=t(91848),o=t(86216);async function a(n){const e=await(0,s.q6W)();if(!e)return null;let t=await(0,s.W5s)(e);if(!t)return null;if((0,i.wZ)(t)&&(t=await async function(n,e){return(0,o.m)("refresh-session",t);async function t(t){const o=e?(0,i.Y7)(e,t):t;let a=await(0,s.W5s)(n)||n;if(!(0,i.wZ)(a)||a.requiresSignIn)return a;const c=new Headers,u=new URLSearchParams;c.append(r.yu,"application/x-www-form-urlencoded"),u.append("client_id","3c9f56bd-0e2c-4358-9bf5-ff3a0efa9bf5"),u.append("grant_type","refresh_token"),u.append("refresh_token",a.refreshToken);try{const e=await fetch("".concat(a.issuer,"/connect/token"),{method:"POST",headers:c,body:u,signal:o});if(e.ok){const n=await e.json();if(l=n,(0,i.OC)(l)&&"access_token"in l)return(0,s.y8b)({...a,requiresSignIn:!1,idToken:n.id_token,accessToken:n.access_token,refreshToken:n.refresh_token,expiresAt:(0,i.kX)()+n.expires_in*r.e5})}else if(400===e.status&&(a=await(0,s.W5s)(n)||n,(0,i.wZ)(a)))return(0,s.y8b)({...a,requiresSignIn:!0,lastTriedToRefresh:(0,i.kX)()});return a}catch(d){console.error(d)}var l;return a=await(0,s.W5s)(n)||n,(0,i.wZ)(a)?(0,s.y8b)({...a,lastTriedToRefresh:(0,i.kX)()}):a}}(t,n),(0,i.wZ)(t)))throw new c;return t}class c extends Error{constructor(){super("User session has been expired")}}},36324:(n,e,t)=>{"use strict";t(5092)},13916:(n,e,t)=>{"use strict";t.d(e,{m:()=>c});var r,s=t(58680),i=t(5092),o=t(91848);let a;async function c(n){var e;return(!a||a.expiresAt<(0,o.kX)())&&(a=await(0,i.Yv)(void 0!==r?r:r=t(72402),{},n).then((n=>{var e,t,r;return null!==n&&void 0!==n&&null!==(e=n.ensureTunnelSession)&&void 0!==e&&null!==(t=e.tunnelSession)&&void 0!==t&&null!==(r=t.sessionId)&&void 0!==r&&r.length&&n.ensureTunnelSession.tunnelSession.expiresIn?{sessionId:n.ensureTunnelSession.tunnelSession.sessionId,expiresAt:(0,o.kX)()+n.ensureTunnelSession.tunnelSession.expiresIn*s.e5}:void 0}))),null===(e=a)||void 0===e?void 0:e.sessionId}},35705:(n,e,t)=>{"use strict";t.d(e,{K:()=>s});var r=t(55828);function s(n){if((0,r.mg)(n))return n;const e=Array.isArray(n)?[]:{};for(const t in n){const r=n[t];Array.isArray(r)?e[t]=s(r):null===r||"object"!==typeof r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String||r instanceof Symbol?e[t]=r:e[t]=s(r)}return e}},5120:(n,e,t)=>{"use strict";t.d(e,{O:()=>r});t(18984);function r(n){return n.replace(/\/(?=\?)|\/(?=#)|\/$/,"")}},76896:(n,e,t)=>{"use strict";t.d(e,{mC:()=>s});const r=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;function s(n){return r.test(n)}},32884:(n,e,t)=>{"use strict";t.d(e,{w:()=>i});var r=t(58680),s=t(22764);function i(n){return function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.yI;return n.expiresAt-(0,s.kX)()-e}(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.yI)<1}},70292:(n,e,t)=>{n.exports=t(87845)},92296:n=>{var e="undefined"!==typeof requestIdleCallback;n.exports=e?requestIdleCallback:function(n){return setTimeout((function(){var e=Date.now();n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},n.exports.cancelIdleCallback=e?cancelIdleCallback:clearTimeout}}]);
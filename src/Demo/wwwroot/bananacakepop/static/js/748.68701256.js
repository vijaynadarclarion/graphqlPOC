"use strict";(self.webpackChunkbanana_cake_pop=self.webpackChunkbanana_cake_pop||[]).push([[748],{26708:(e,o,s)=>{s(38344),s(16820),s(87343)},13620:(e,o,s)=>{s(27644),s(84432),s(11148)},4640:(e,o,s)=>{s(98352),s(18984),s(60864);var t=s(58680),r=s(27644),n=(s(98036),s(84432),s(91848),s(32936)),i=s(96004),c=s(85168);r.CmR,r.uMd,r.WKm,r.KC2;class l{constructor(e,o,s){this.resolveSubscriptionUrl=e,this.connectionParams=o,this.extraOptions=s}}class a extends l{constructor(){super(...arguments),this.provider=void 0,this.subscriptionProtocol=void 0}async execute(e,o){const s=this;if(!this.provider){const[e,o]=await new Promise((e=>{const o=s.resolveSubscriptionUrl(r.CmR);if(!o.length)return void e([new h(s.resolveSubscriptionUrl,s.connectionParams,s.extraOptions),r.KC2]);const t=new WebSocket(o,[r.uMd,r.WKm]);t.onopen=function(){if(t.protocol===r.WKm)e([new u(s.resolveSubscriptionUrl,s.connectionParams,s.extraOptions),r.WKm]);else e([new v(s.resolveSubscriptionUrl,s.connectionParams,s.extraOptions),r.uMd]);t.close()},t.onerror=function(o){e([new h(s.resolveSubscriptionUrl,s.connectionParams,s.extraOptions),r.KC2]),t.close()}}));this.provider=e,this.subscriptionProtocol=o}return this.provider.execute(e,o)}get protocol(){return this.subscriptionProtocol}close(){var e;null===(e=this.provider)||void 0===e||e.close()}}class u extends l{constructor(){super(...arguments),this.closeFunc=void 0,this.observable=void 0}createClient(e){var o;const s=new c._(this.resolveSubscriptionUrl(r.WKm),{lazy:!1,reconnect:!1,connectionParams:this.connectionParams,connectionCallback:null===(o=this.extraOptions)||void 0===o?void 0:o.onConnected,onMessage:e});return this.closeFunc=()=>{s.close(!0)},s}execute(e,o){return this.observable||(this.observable=p((s=>{const t=this.createClient(o);return t.onError((e=>s.error(e))),t.request(e).subscribe(s).unsubscribe}))),Promise.resolve(this.observable)}close(){var e;null===(e=this.closeFunc)||void 0===e||e.call(this)}}class v extends l{constructor(){super(...arguments),this.closeFunc=void 0,this.observable=void 0}createClient(e){let o,s;const n=(0,i.MD)({url:this.resolveSubscriptionUrl(r.uMd),lazy:!0,retryAttempts:0,keepAlive:t.yI,connectionParams:this.connectionParams,on:{connected:e=>{var s,t,r,n;e instanceof WebSocket?(o=e,null===(s=this.extraOptions)||void 0===s||null===(t=s.onConnected)||void 0===t||t.call(s)):null===(r=this.extraOptions)||void 0===r||null===(n=r.onConnected)||void 0===n||n.call(r,{message:"Unknown socket"})},error:e=>{var o,s;null===(o=this.extraOptions)||void 0===o||null===(s=o.onConnected)||void 0===s||s.call(o,e)},ping:e=>{e||(s=self.setTimeout((()=>{var e;(null===(e=o)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&o.close(4408,"Request Timeout")}),t.oT))},pong:e=>{e&&self.clearTimeout(s)},message:e}});return this.close=()=>{n.dispose()},n}execute(e,o){return this.observable||(this.observable=p((s=>this.createClient(o).subscribe(e,{next:function(){return s.next(...arguments)},error:e=>s.error(e),complete:()=>s.complete()})))),Promise.resolve(this.observable)}close(){var e;null===(e=this.closeFunc)||void 0===e||e.call(this)}}class h extends l{constructor(){super(...arguments),this.closeFunc=void 0,this.observable=void 0}createClient(e){var o,s;const t=(0,n.MD)({url:this.resolveSubscriptionUrl(r.KC2),retryAttempts:0,headers:{...this.connectionParams,"content-type":"application/json"},onMessage:e});return null===(o=this.extraOptions)||void 0===o||null===(s=o.onConnected)||void 0===s||s.call(o),this.close=()=>{t.dispose()},t}execute(e,o){return this.observable||(this.observable=p((s=>this.createClient(o).subscribe(e,{next:function(){return s.next(...arguments)},error:e=>s.error(e),complete:()=>s.complete()})))),Promise.resolve(this.observable)}close(){var e;null===(e=this.closeFunc)||void 0===e||e.call(this)}}function p(e){return{subscribe:e}}},56524:(e,o,s)=>{s(2856),s(18984),s(60864),s(98036),s(22276)},95841:(e,o,s)=>{s(2856),s(60864),s(27644),s(98036),s(91848),s(97036)},35751:(e,o,s)=>{s(2856),s(86652),s(60864),s(27644),s(98036),s(22276)}}]);